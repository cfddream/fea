<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>QUnit Test Suite</title>
        <link rel="stylesheet" href="css/qunit.css" type="text/css" media="screen">
        <script type="text/javascript" src="js/qunit.js"></script>
        <script src="js/jquery-1.6.4.js"></script>
        <script src="js/fea.js"></script>
        <script>
            //Fea.domReady(function () {
                module('Module Loader JS');
                test('loading JS', function () {
                    expect(3);
                    stop();
                    Fea.loader({
                        url: 'js/a.js',
                        callback: function () {
                            equal(a, 101);
                            start();
                            stop();
                            Fea.loader({
                                url: 'js/b.js',
                                callback: function () {
                                    equal(b, 136);
                                    start();
                                }
                            });
                        }
                    });
                    
                    stop();
                    Fea.loader({
                        url: 'js/c.js',
                        callback: function () {
                            equal(c, 'c');
                            start();
                        }
                    });
                });
            //});

        module('Module Loader CSS');
        test('loading css', function () {
            expect(3);
            stop();
            Fea.loader({
                url: 'css/a.css',
                callback: function () {
                    ok(true, 'a.css is loaded.');
                    start();
                    stop();
                    Fea.loader({
                        url: 'css/c.css',
                        callback: function () {
                            ok(true, 'c.css is loaded.');
                            start();
                        }
                    });
                }
            });

            stop();
            Fea.loader({
                url: 'css/b.css',
                callback: function () {
                    ok(true, 'b.css is loaded.');
                    start();
                }
            });
        });
        </script>
    </head>
    <body>
        <h1 id="qunit-header">QUnit Test Suite</h1>
        <h2 id="qunit-banner"></h2>
        <div id="qunit-testrunner-toolbar"></div>
        <h2 id="qunit-userAgent"></h2>
        <ol id="qunit-tests"></ol>
        <div id="qunit-fixture">test markup</div>
    </body>
</html>
